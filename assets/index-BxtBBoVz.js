(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const L=t=>e=>(n,r)=>n===r?e:t(n,r),H=(t,e)=>{const n=1-t/e,r=Math.floor(255*n);return{r,g:r,b:r}},K=(t,e,n)=>(r,o)=>{const a=1-r/o,c=Math.floor(255*a),i=r%t===0?0:c,l=r%e===0?0:c,u=r%n===0?0:c;return{r:i,g:l,b:u}},re="modulepreload",ae=function(t){return"/mandelbrot/"+t},$={},ce=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),i=c?.nonce||c?.getAttribute("nonce");o=Promise.allSettled(n.map(l=>{if(l=ae(l),l in $)return;$[l]=!0;const u=l.endsWith(".css"),y=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${y}`))return;const s=document.createElement("link");if(s.rel=u?"stylesheet":re,u||(s.as="script"),s.crossOrigin="",s.href=l,i&&s.setAttribute("nonce",i),document.head.appendChild(s),u)return new Promise((g,m)=>{s.addEventListener("load",g),s.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(c){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=c,window.dispatchEvent(i),!i.defaultPrevented)throw c}return o.then(c=>{for(const i of c||[])i.status==="rejected"&&a(i.reason);return e().catch(a)})},ie=await ce(()=>import("./calculations_bg-Tzv0iiv2.js"),[]);function le(t,e){const{maxIterations:n,maxRealPart:r,minRealPart:o,maxImaginaryPart:a,minImaginaryPart:c,getColorFn:i,width:l,height:u}=e,{factor:y,xPosition:s,yPosition:g}=t;if(y===0)return e;const m=r-o,x=a-c,I=1/y,v=o+m*(s/l),C=c+x*(g/u),w=m*I*.5,M=x*I*.5,B=v-w,F=v+w,p=C-M,oe=C+M;return J({...e,maxIterations:n,maxRealPart:F,minRealPart:B,maxImaginaryPart:oe,minImaginaryPart:p,getColorFn:i})}function J(t){const{maxIterations:e,maxRealPart:n,minRealPart:r,maxImaginaryPart:o,minImaginaryPart:a,getColorFn:c,width:i,height:l,imageData:u}=t,y=(n-r)/i,s=(o-a)/l,g=u.data;for(let m=0;m<l;m++){const x=a+m*s,I=m*i*4;for(let v=0;v<i;v++){const C=r+v*y,w=ie.calculate_iterations_per_pixel(C,x,e),{r:M,g:B,b:F}=c(w,e),p=I+v*4;g[p]=M,g[p+1]=B,g[p+2]=F,g[p+3]=255}}return{...t,imageData:u}}function se(t,e){const n=document.createElement("canvas");n.className="canvas";const r=n.getContext("2d");n.width=t,n.height=e,document.body.appendChild(n);const o=r.createImageData(n.width,n.height);return{canvas:n,drawingContext:r,imageData:o}}function Q(t,e){return t.drawingContext.putImageData(e.imageData,0,0),e}async function ee(t,e){const n=J(e);return Q(t,n)}async function O(t,e,n){const r=le(t,e);return Q(n,r)}function ue(){const t=document.documentElement;t.requestFullscreen&&t.requestFullscreen()}function de(t){return new Promise(e=>setTimeout(e,t))}async function me(t,e,n,r){for(let o=0;o<e&&!r.aborted;o++)t(),await de(n)}const k=1e3,X=k/2,S=document.getElementById("red"),V=document.getElementById("green"),_=document.getElementById("blue"),z=document.getElementById("backgroundRed"),A=document.getElementById("backgroundGreen"),N=document.getElementById("backgroundBlue"),te=document.getElementById("MaxIterations"),q=document.getElementById("zoomFactor"),T=document.getElementById("zoomSteps"),Z=document.getElementById("zoomDelay"),D=document.getElementById("activateModuloColor");let b=new AbortController,Y=b.signal,ge=+te.value,f={factor:+q.value,steps:+T.value,delay:+Z.value},P={r:+z.value,g:+A.value,b:+N.value},h=L(H);const d=se(k,k),fe={maxRealPart:1,minRealPart:-2,maxImaginaryPart:1.5,minImaginaryPart:-1.5,maxIterations:ge,getColorFn:h(P),imageData:d.imageData,width:d.canvas.width,height:d.canvas.height};let j=ee(d,fe);async function R(t){j=j.then(e=>t(e))}async function E(t){R(e=>ee(d,{...e,...t}))}function G(t){const e=t.target;!e||!e.value||(f={factor:+q.value,steps:+T.value,delay:+Z.value})}function U(t){const e=t.target;!e||!e.value||E({getColorFn:L(K(+S.value,+V.value,+_.value))(P)})}function W(t){const e=t.target;!e||!e.value||(P={r:+z.value,g:+A.value,b:+N.value},E({getColorFn:h(P)}))}function ne(t){b=new AbortController,Y=b.signal,me(()=>R(e=>O({factor:t,xPosition:X,yPosition:X},e,d)),f.steps-1,f.delay,Y)}S.addEventListener("input",U);V.addEventListener("input",U);_.addEventListener("input",U);z.addEventListener("input",W);N.addEventListener("input",W);A.addEventListener("input",W);Z.addEventListener("input",G);T.addEventListener("input",G);q.addEventListener("input",G);d.canvas.addEventListener("click",function(t){const e=d.canvas.getBoundingClientRect(),n=t.clientX-e.left,r=t.clientY-e.top;ue(),b.abort(),R(o=>O({factor:f.factor,xPosition:n,yPosition:r},o,d)),f.steps!=1&&ne(f.factor)});d.canvas?.addEventListener("contextmenu",t=>{t.preventDefault();const e=1/f.factor;b.abort(),R(n=>O({factor:e,xPosition:500,yPosition:500},n,d)),f.steps!=1&&ne(e)});te?.addEventListener("input",t=>{const e=t.target;!e||!e.value||E({maxIterations:+e.value})});D?.addEventListener("change",function(){D&&D.checked?(h=L(K(+S.value,+_.value,+V.value)),E({getColorFn:h(P)})):(h=L(H),E({getColorFn:h(P)}))});
