(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();const C=t=>e=>(n,o)=>n===o?e:t(n,o),K=(t,e)=>{const n=1-t/e,o=Math.floor(255*n);return{r:o,g:o,b:o}},X=(t,e,n)=>(o,r)=>{const a=1-o/r,c=Math.floor(255*a),i=o%t===0?0:c,s=o%e===0?0:c,u=o%n===0?0:c;return{r:i,g:s,b:u}},re="modulepreload",ae=function(t){return"/mandelbrot/"+t},W={},ce=function(e,n,o){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),i=c?.nonce||c?.getAttribute("nonce");r=Promise.allSettled(n.map(s=>{if(s=ae(s),s in W)return;W[s]=!0;const u=s.endsWith(".css"),v=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${v}`))return;const l=document.createElement("link");if(l.rel=u?"stylesheet":re,u||(l.as="script"),l.crossOrigin="",l.href=s,i&&l.setAttribute("nonce",i),document.head.appendChild(l),u)return new Promise((g,m)=>{l.addEventListener("load",g),l.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})}))}function a(c){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=c,window.dispatchEvent(i),!i.defaultPrevented)throw c}return r.then(c=>{for(const i of c||[])i.status==="rejected"&&a(i.reason);return e().catch(a)})},ie=await ce(()=>import("./calculations_bg-Tzv0iiv2.js"),[]);function se(t,e){const{maxIterations:n,maxRealPart:o,minRealPart:r,maxImaginaryPart:a,minImaginaryPart:c,getColorFn:i,width:s,height:u}=e,{factor:v,xPosition:l,yPosition:g}=t;if(v===0)return e;const m=r+(o-r)*(l/s),E=c+(a-c)*(g/u),I=Math.abs(o-r)/v,y=Math.abs(a-c)/v,M=m-I/2,L=m+I/2,R=E-y/2,B=E+y/2;return Y({...e,maxIterations:n,maxRealPart:L,minRealPart:M,maxImaginaryPart:B,minImaginaryPart:R,getColorFn:i})}function Y(t){const{maxIterations:e,maxRealPart:n,minRealPart:o,maxImaginaryPart:r,minImaginaryPart:a,getColorFn:c,width:i,height:s,imageData:u}=t,v=(n-o)/i,l=(r-a)/s,g=u.data;for(let m=0;m<s;m++){const E=a+m*l,I=m*i*4;for(let y=0;y<i;y++){const M=o+y*v,L=ie.calculate_iterations_per_pixel(M,E,e),{r:R,g:B,b:oe}=c(L,e),x=I+y*4;g[x]=R,g[x+1]=B,g[x+2]=oe,g[x+3]=255}}return{...t,imageData:u}}function le(t,e){const n=document.createElement("canvas");n.className="canvas";const o=n.getContext("2d");n.width=t,n.height=e,document.body.appendChild(n);const r=o.createImageData(n.width,n.height);return{canvas:n,drawingContext:o,imageData:r}}function J(t,e){return t.drawingContext.putImageData(e.imageData,0,0),e}async function Q(t,e){const n=Y(e);return J(t,n)}async function O(t,e,n){const o=se(t,e);return J(n,o)}function ue(){const t=document.documentElement;t.requestFullscreen&&t.requestFullscreen()}function de(t){return new Promise(e=>setTimeout(e,t))}async function ee(t,e,n,o){e!=0&&(t(),await de(n),o.aborted||ee(t,e-1,n,o))}const D=1e3,$=D/2,S=document.getElementById("red"),V=document.getElementById("green"),_=document.getElementById("blue"),k=document.getElementById("backgroundRed"),z=document.getElementById("backgroundGreen"),A=document.getElementById("backgroundBlue"),te=document.getElementById("MaxIterations"),N=document.getElementById("zoomFactor"),q=document.getElementById("zoomSteps"),T=document.getElementById("zoomDelay"),F=document.getElementById("activateModuloColor");let P=new AbortController,j=P.signal,me=+te.value,f={factor:+N.value,steps:+q.value,delay:+T.value},h={r:+k.value,g:+z.value,b:+A.value},p=C(K);const d=le(D,D),ge={maxRealPart:1,minRealPart:-2,maxImaginaryPart:1.5,minImaginaryPart:-1.5,maxIterations:me,getColorFn:p(h),imageData:d.imageData,width:d.canvas.width,height:d.canvas.height};let H=Q(d,ge);async function w(t){H=H.then(e=>t(e))}async function b(t){w(e=>Q(d,{...e,...t}))}function Z(t){const e=t.target;!e||!e.value||(f={factor:+N.value,steps:+q.value,delay:+T.value})}function G(t){const e=t.target;!e||!e.value||b({getColorFn:C(X(+S.value,+V.value,+_.value))(h)})}function U(t){const e=t.target;!e||!e.value||(h={r:+k.value,g:+z.value,b:+A.value},b({getColorFn:p(h)}))}function ne(t){P=new AbortController,j=P.signal,ee(()=>w(e=>O({factor:t,xPosition:$,yPosition:$},e,d)),f.steps-1,f.delay,j)}S.addEventListener("input",G);V.addEventListener("input",G);_.addEventListener("input",G);k.addEventListener("input",U);A.addEventListener("input",U);z.addEventListener("input",U);T.addEventListener("input",Z);q.addEventListener("input",Z);N.addEventListener("input",Z);d.canvas.addEventListener("click",function(t){const e=d.canvas.getBoundingClientRect(),n=t.clientX-e.left,o=t.clientY-e.top;ue(),P.abort(),w(r=>O({factor:f.factor,xPosition:n,yPosition:o},r,d)),f.steps!=1&&ne(f.factor)});d.canvas?.addEventListener("contextmenu",t=>{t.preventDefault();const e=1/f.factor;P.abort(),w(n=>O({factor:e,xPosition:500,yPosition:500},n,d)),f.steps!=1&&ne(e)});te?.addEventListener("input",t=>{const e=t.target;!e||!e.value||b({maxIterations:+e.value})});F?.addEventListener("change",function(){F&&F.checked?(p=C(X(+S.value,+_.value,+V.value)),b({getColorFn:p(h)})):(p=C(K),b({getColorFn:p(h)}))});
